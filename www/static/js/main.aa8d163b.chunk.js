(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(49)},28:function(e,t,n){},33:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(11),s=n.n(i),u=(n(28),n(6)),o=n(1),l="ITEMS_FETCH",f="ITEMS_FETCH_SUCCESS",h="ITEMS_FETCH_ERROR";!function(e){e[e.INIT=0]="INIT",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(r||(r={}));var m={state:r.INIT,items:[],errorMessage:""};var E,O=n(10),p=n(21),d="PLAYER_INFO",v="PLAYER_INFO_SUCCESS",R="PLAYER_INFO_ERROR";!function(e){e[e.INIT=0]="INIT",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(E||(E={}));var I={state:E.INIT,info:{},errorMessage:""};var S,g="SEARCH_ITEMS_FETCH",D="SEARCH_ITEMS_FETCH_SUCCESS",A="SEARCH_ITEMS_FETCH_ERROR",y="ACTIVATE_SEARCH";!function(e){e[e.INIT=0]="INIT",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(S||(S={}));var N,b={state:S.INIT,items:[],errorMessage:"",searchActivated:!1};!function(e){e[e.INIT=0]="INIT",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(N||(N={}));var j=Object(O.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)({},e,{items:t.items,state:r.LOADING});case f:return Object(o.a)({},e,{items:t.items,state:r.LOADED});case h:return Object(o.a)({},e,{errorMessage:t,state:r.ERROR});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(o.a)({},e,{items:t.items,state:S.LOADING});case D:return Object(o.a)({},e,{items:t.items,state:S.LOADED});case A:return Object(o.a)({},e,{errorMessage:t,state:S.ERROR});case y:return Object(o.a)({},e,{searchActivated:t.isActive});default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(o.a)({},e,{state:E.LOADING});case v:return Object(o.a)({},e,{info:t.info,state:E.LOADED});case R:return Object(o.a)({},e,{errorMessage:t.errorMessage,state:E.ERROR});default:return e}}}),T=Object(O.d)(j,Object(O.a)(p.a)),L=(n(33),n(3)),k=n(4),C=n(8),w=n(7),M=n(9),_=function(){function e(){Object(L.a)(this,e)}return Object(k.a)(e,null,[{key:"play",value:function(e){var t="/play?url="+e.url+"&title="+e.title;return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){throw Error("Offline or wrong address")})}},{key:"info",value:function(){return fetch("/info").then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){throw Error("Offline or wrong address")})}},{key:"searchStations",value:function(e){return fetch("/search?query="+e).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){throw Error("Offline or wrong address")})}}]),e}();function G(e){return function(t){t(function(e){return{type:y,isActive:e}}(e))}}function H(e){return function(t){return t({type:g}),_.searchStations(e).then(function(e){return t({type:D,items:e})}).catch(function(e){return t(function(e){return{type:A,errorMessage:e.message}}(e))})}}var x=function(e){function t(e,n){var r;return Object(L.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e,n))).state={isSearching:!1},r.activateSearch=function(){r.setState({isSearching:!r.state.isSearching}),r.props.activateSearch(!r.state.isSearching)},r.onSearch=function(e){r.props.search(e.target.value)},r}return Object(M.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return c.a.createElement("header",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:this.state.isSearching?"search-visible":"search-hidden"},c.a.createElement("span",null,"STATIONS"),c.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Search...",onChange:this.onSearch})),c.a.createElement("i",{onClick:this.activateSearch,className:"fas fa-"+(this.state.isSearching?"times":"search")})))}}]),t}(c.a.Component),F=Object(u.b)(function(e){return{searchState:e.search}},function(e){return{search:function(t){return e(H(t))},activateSearch:function(t){return e(G(t))}}})(x);function P(){return{type:d}}function U(e){return{type:R,errorMessage:e}}function Y(){return function(e){return e(P()),_.info().then(function(t){return e({type:v,info:t})}).catch(function(t){return e(U(t.toString()))})}}var B=function(e){function t(e,n){return Object(L.a)(this,t),Object(C.a)(this,Object(w.a)(t).call(this,e,n))}return Object(M.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.props.state===N.INIT&&this.props.loadData()}},{key:"render",value:function(){var e=this;return c.a.createElement("footer",null,function(){switch(e.props.state){case N.LOADING:return c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-spinner"}),"Getting Info");case N.LOADED:return c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-music"}),e.props.info.title);case N.ERROR:return c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-unlink"}),e.props.errorMessage);default:return null}}())}}]),t}(c.a.Component),J=Object(u.b)(function(e){return e.player},function(e){return{loadData:function(){return e(Y())}}})(B),W=function(e){return c.a.createElement("li",{onClick:function(){return e.onClick(e.item)}},e.selected?c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-play"})," "):c.a.createElement("span",null,e.index+1,". "),e.item.title)},q=function(){function e(){Object(L.a)(this,e)}return Object(k.a)(e,null,[{key:"getAll",value:function(){return fetch("https://radix-83cd.restdb.io/rest/stations",{method:"GET",headers:new Headers({"x-apikey":"5ae89d7625a622ae4d528762"})}).then(function(e){return e.json()}).catch(function(e){return e})}}]),e}();function V(){return function(e){return e({type:l}),q.getAll().then(function(t){return e({type:f,items:t})}).catch(function(t){return e(function(e){return{type:h,errorMessage:e.message}}(t))})}}var $=function(e){function t(e,n){var r;return Object(L.a)(this,t),(r=Object(C.a)(this,Object(w.a)(t).call(this,e,n))).onClick=function(e){r.props.play(e)},r}return Object(M.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.props.loadData()}},{key:"isPlaying",value:function(e){return this.props.currentPlayingUrl===e}},{key:"render",value:function(){var e=this;if(this.props.searchState.searchActivated)switch(this.props.searchState.state){case N.LOADING:return c.a.createElement("div",{id:"items-loading"},c.a.createElement("i",{className:"fas fa-spinner"}));case N.LOADED:return c.a.createElement("ul",null,this.props.itemsState.items.map(function(t,n){return c.a.createElement(W,{item:t,key:n,index:n,selected:e.isPlaying(t.url),onClick:e.onClick})}));default:return null}else switch(this.props.itemsState.state){case N.LOADING:return c.a.createElement("div",{id:"items-loading"},c.a.createElement("i",{className:"fas fa-spinner"}));case N.LOADED:return c.a.createElement("ul",null,this.props.itemsState.items.map(function(t,n){return c.a.createElement(W,{item:t,key:n,index:n,selected:e.isPlaying(t.url),onClick:e.onClick})}));default:return null}}}]),t}(c.a.Component),z=Object(u.b)(function(e){return{itemsState:e.items,currentPlayingUrl:e.player.info.url,searchState:e.search}},function(e){return{loadData:function(){return e(V())},play:function(t){return e(function(e){return function(t){return t(P()),_.play(e).then(function(e){return t(Y())}).catch(function(e){return t(U(e.toString()))})}}(t))}}})($),K=n(22),Q=function(){return c.a.createElement(K.slide,null,c.a.createElement("a",{className:"menu-item",href:"/"},"Stations"),c.a.createElement("a",{className:"menu-item",href:"/"},"YouTube"),c.a.createElement("a",{className:"menu-item",href:"/"},"Settings"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(function(){return c.a.createElement(u.a,{store:T},c.a.createElement("div",{className:"App"},c.a.createElement(Q,null),c.a.createElement("div",null,c.a.createElement(F,{store:T}),c.a.createElement(z,null),c.a.createElement(J,null))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.aa8d163b.chunk.js.map